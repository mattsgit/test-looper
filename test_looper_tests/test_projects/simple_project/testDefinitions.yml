looper_version: 2
environments:
  linux:
    platform: linux
    image:
      dockerfile: "Dockerfile.txt"
  linux2:
    platform: linux
    image:
      dockerfile: "Dockerfile.txt"
builds:
  build/linux:
    command: "cp $TEST_SRC_DIR/build_file $TEST_BUILD_OUTPUT_DIR/build_file"
tests:
  good/linux:
    command: "./script.py 0"
    dependencies:
      build: build/linux
  bad/linux:
    command: "./script.py 1"
    dependencies:
      build: build/linux
  check_build_output/linux:
    command: "cat $TEST_INPUTS/spiffy/build_file"
    dependencies:
      spiffy: build/linux
  docker/linux:
    command: "./starts_a_long_docker.py"
    dependencies:
      spiffy: build/linux
  test_with_individual_failures/linux:
    command: |
      ./produce_test_failures.py Group1 > $TEST_OUTPUT_DIR/testSummary.json
  test_with_individual_failures_2/linux:
    command: |
      ./produce_test_failures.py Group2WithAVeryLongGroupName > $TEST_OUTPUT_DIR/testSummary.json
  test_with_individual_failures/linux2:
    command: |
      ./produce_test_failures.py Group1 > $TEST_OUTPUT_DIR/testSummary.json
  test_with_individual_failures_2/linux2:
    command: |
      ./produce_test_failures.py Group2WithAVeryLongGroupName > $TEST_OUTPUT_DIR/testSummary.json

